{"version":3,"sources":["components/Searchbar/Searchbar.jsx","services/hitsApi.js","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","this","type","onChange","autoComplete","autoFocus","placeholder","Component","newHits","fetchHits","searchQuery","currentPage","per_page","axios","get","then","response","data","hits","ImageGalleryItem","src","alt","onClick","largeImageURL","ImageGallery","map","hit","index","webformatURL","tags","id","Button","isLoading","shouldRenderLoadMoreButton","length","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","App","error","showModal","onChangeQuery","options","hitsApi","prevState","catch","finally","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.51553e32.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({\n      query: e.currentTarget.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from 'axios';\n\nconst API_KEY = '20531807-1479c72a34e3a5f5276de9d68';\nconst URL = 'https://pixabay.com/api/';\n\nconst fetchHits = ({ searchQuery = '', currentPage = 1, per_page = 12 }) => {\n  return axios\n    .get(\n      `${URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\n    )\n    .then(response => response.data.hits);\n};\n\nconst newHits = { fetchHits };\n\nexport default newHits;\n","import React from 'react';\n\nconst ImageGalleryItem = ({ src, alt, onClick, largeImageURL }) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        src={src}\n        alt={alt}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => onClick(largeImageURL, alt)}\n        data={largeImageURL}\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst ImageGallery = ({ hits, onClick }) => {\n  return (\n    <>\n      <ul className=\"ImageGallery\">\n        {hits.map((hit, index) => {\n          return (\n            <ImageGalleryItem\n              key={`${index}${hit.id}`}\n              src={hit.webformatURL}\n              alt={hit.tags}\n              onClick={onClick}\n              largeImageURL={hit.largeImageURL}\n            />\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nexport default ImageGallery;\n","import React from 'react';\n\nconst Button = ({ hits, isLoading, onClick }) => {\n  const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n  return (\n    <>\n      {shouldRenderLoadMoreButton && (\n        <button className=\"Button\" type=\"button\" onClick={onClick}>\n          Load more\n        </button>\n      )}\n    </>\n  );\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nconst modalRoot = document.querySelector('#modalRoot');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => e.code === 'Escape' && this.props.onClose();\n\n  handleBackdropClick = e =>\n    e.currentTarget === e.target && this.props.onClose();\n\n  render() {\n    const { largeImageURL, alt } = this.props;\n\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={largeImageURL} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\n// import axios from 'axios';\nimport Searchbar from './components/Searchbar';\nimport hitsApi from './services/hitsApi';\nimport Loader from 'react-loader-spinner';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.scss';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    prevState.searchQuery !== this.state.searchQuery && this.fetchHits();\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n    });\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    hitsApi\n      .fetchHits(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = (largeImageURL, alt) => {\n    const { showModal } = this.state;\n\n    !showModal && this.setState({ largeImageURL: largeImageURL, alt: alt });\n\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const {\n      hits,\n      isLoading,\n      error,\n      showModal,\n      largeImageURL,\n      alt,\n    } = this.state;\n    const { onChangeQuery, toggleModal, fetchHits } = this;\n\n    return (\n      <>\n        <Searchbar onSubmit={onChangeQuery} />\n        {error && <span>ERROR</span>}\n        <ImageGallery hits={hits} onClick={toggleModal} />\n        {isLoading && (\n          <Loader\n            className=\"Loader\"\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n          />\n        )}\n        <Button hits={hits} isLoading={isLoading} onClick={fetchHits} />\n        {showModal && (\n          <Modal\n            onClose={toggleModal}\n            largeImageURL={largeImageURL}\n            alt={alt}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}