{"version":3,"sources":["components/Modal/Modal.module.scss","components/Button/Button.module.scss","components/Searchbar/Searchbar.jsx","services/hitsApi.js","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js","components/Searchbar/Searchbar.module.scss","components/ImageGallery/ImageGallery.module.scss"],"names":["module","exports","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","newHits","fetchHits","searchQuery","currentPage","per_page","axios","get","then","response","data","hits","ImageGalleryItem","src","alt","onClick","largeImageURL","ImageGalleryItemImage","defaultProps","ImageGallery","map","hit","index","webformatURL","tags","id","Button","isLoading","shouldRenderLoadMoreButton","length","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","App","error","showModal","onChangeQuery","options","hitsApi","prevState","catch","finally","toggleModal","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.40b7ab8f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__21j6m\",\"Modal\":\"Modal_Modal__32mLz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2BYYQ\"};","import React, { Component } from 'react';\nimport s from './Searchbar.module.scss';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = e => {\n    this.setState({\n      query: e.currentTarget.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            value={this.state.query}\n            onChange={this.handleChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import axios from 'axios';\n\nconst API_KEY = '20531807-1479c72a34e3a5f5276de9d68';\nconst URL = 'https://pixabay.com/api/';\n\nconst fetchHits = ({ searchQuery = '', currentPage = 1, per_page = 12 }) => {\n  return axios\n    .get(\n      `${URL}?q=${searchQuery}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${per_page}`,\n    )\n    .then(response => response.data.hits);\n};\n\nconst newHits = { fetchHits };\n\nexport default newHits;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.scss';\n\nconst ImageGalleryItem = ({ src, alt, onClick, largeImageURL }) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        className={s.ImageGalleryItemImage}\n        onClick={() => onClick(largeImageURL, alt)}\n        data={largeImageURL}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n};\n\nImageGalleryItem.defaultProps = {\n  alt: 'Photo',\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport s from './ImageGallery.module.scss';\n\nconst ImageGallery = ({ hits, onClick }) => {\n  return (\n    <>\n      <ul className={s.ImageGallery}>\n        {hits.map((hit, index) => {\n          return (\n            <ImageGalleryItem\n              key={`${index}${hit.id}`}\n              src={hit.webformatURL}\n              alt={hit.tags}\n              onClick={onClick}\n              largeImageURL={hit.largeImageURL}\n            />\n          );\n        })}\n      </ul>\n    </>\n  );\n};\n\nImageGallery.propTypes = {\n  hits: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      src: PropTypes.string.isRequirred,\n      alt: PropTypes.string,\n      largeImageURL: PropTypes.string.isRequired,\n    }),\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n\nImageGallery.defaultProps = {\n  alt: 'Photo',\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.scss';\n\nconst Button = ({ hits, isLoading, onClick }) => {\n  const shouldRenderLoadMoreButton = hits.length > 0 && !isLoading;\n\n  return (\n    <>\n      {shouldRenderLoadMoreButton && (\n        <button className={s.Button} type=\"button\" onClick={onClick}>\n          Load more\n        </button>\n      )}\n    </>\n  );\n};\n\nButton.propTypes = {\n  hits: PropTypes.array,\n  isLoading: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.scss';\nconst modalRoot = document.querySelector('#modalRoot');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => e.code === 'Escape' && this.props.onClose();\n\n  handleBackdropClick = e =>\n    e.currentTarget === e.target && this.props.onClose();\n\n  render() {\n    const { largeImageURL, alt } = this.props;\n\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={largeImageURL} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  largeImageURL: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n};\n\nModal.defaultProps = {\n  alt: 'Photo',\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport Searchbar from './components/Searchbar';\nimport hitsApi from './services/hitsApi';\nimport Loader from 'react-loader-spinner';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles.scss';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    alt: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, hits } = this.state;\n    prevState.searchQuery !== searchQuery && this.fetchHits();\n\n    prevState.hits.length !== hits.length &&\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      hits: [],\n      error: null,\n    });\n  };\n\n  fetchHits = () => {\n    const { currentPage, searchQuery } = this.state;\n    const options = { currentPage, searchQuery };\n\n    this.setState({ isLoading: true });\n\n    hitsApi\n      .fetchHits(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          hits: [...prevState.hits, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  toggleModal = (largeImageURL, alt) => {\n    const { showModal } = this.state;\n\n    !showModal && this.setState({ largeImageURL: largeImageURL, alt: alt });\n\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { onChangeQuery, toggleModal, fetchHits } = this;\n    const {\n      hits,\n      isLoading,\n      error,\n      showModal,\n      largeImageURL,\n      alt,\n    } = this.state;\n\n    return (\n      <>\n        <Searchbar onSubmit={onChangeQuery} />\n        {error && <span>ERROR</span>}\n        <ImageGallery hits={hits} onClick={toggleModal} />\n        {isLoading && (\n          <Loader\n            className=\"Loader\"\n            type=\"ThreeDots\"\n            color=\"#00BFFF\"\n            height={80}\n            width={80}\n          />\n        )}\n        <Button hits={hits} isLoading={isLoading} onClick={fetchHits} />\n        {showModal && (\n          <Modal\n            onClose={toggleModal}\n            largeImageURL={largeImageURL}\n            alt={alt}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Ep_q\",\"SearchForm\":\"Searchbar_SearchForm__2I4mE\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2qPO1\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__7CZEE\",\"SearchFormInput\":\"Searchbar_SearchFormInput__3gZ4u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2s6Dc\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__1oS9I\",\"ImageGalleryItemImage\":\"ImageGallery_ImageGalleryItemImage__365mP\"};"],"sourceRoot":""}